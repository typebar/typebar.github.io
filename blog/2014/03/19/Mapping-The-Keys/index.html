
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mapping the Keys - Typebar</title>
  <meta name="author" content="Pedro && Anton">

  
  <meta name="description" content="Mapping The Keys &amp; Sensor Thoughts Sometimes there is nothing better than getting a pen and paper out and when it came to mapping out all the &hellip;">
  <meta name="keywords" content="arduino raspberry pi general purpose input\/output">
  <meta property="article:tag" content="arduino">
<meta property="article:tag" content="raspberry pi">
<meta property="article:tag" content="general purpose input\/output">
  
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://typebar.github.io/blog/2014/03/19/Mapping-The-Keys/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Typebar" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-45893163-5']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <img src="/images/typewriter_blue.png" />
  <h1><a href="/">Typebar</a></h1>
</hgroup>
<br />
<p style="color: #383838; margin: 0 auto; width: 50%;">Turn your beloved old typewriter into a modern computer keyboard with a few extra bells and whistles.</p>
<br />
<hr class="headline" />


    <ul>
      <li style="display: inline-block; padding: 0 7px 0;">
	<a href ="/examples/">Get started</a>
      </li>
      <li style="display: inline-block; padding: 0 7px 0;">
	<a href="http://github.com/typebar/typebar">View source</a>
      </li>
    </ul>
  </header>
  <div id="main">
    <div id="content">
      <div>
  <article class="hentry" role="article">
    
  <header>
    
      <h1 class="entry-title">Mapping the Keys</h1>
    
  </header>




<span class="categories">
  
    <a class='category' href='/blog/categories/general/'>general,</a>, <a class='category' href='/blog/categories/post/'>post</a>
  
</span>


<div class="entry-content"><h1>Mapping The Keys &amp; Sensor Thoughts</h1>

<p><img class="left" src="http://i1338.photobucket.com/albums/o700/ped4416/MappingTheKeys_zpsdaad141e.jpg" style="width: auto; height: 420px;"></p>

<p>Sometimes there is nothing better than getting a pen and paper out and when it came to mapping out all the keys on the typewriter this was no exception. The keys are mapped in an odd yet consistent order that must be to do with the mechanics of the machine. We will need to program the inputs to call arrays of length 16 to match the port expander chips.</p>

<h3>The Sensor Mountings</h3>

<p>The underside of the typewriter looks like the best place to place our sensors. Each key as seen in the image below has a long bar that lowers when the key is pressed. A metal chassis makes a very secure support for attaching our solder board onto and from this we are planning to attach small metal pins or wires that will create a circuit by supplying 5v to the bars when pressed. The circuit will be created as each key will be grounded via a suitable point on the frame of the typewriter.</p>

<h3>Improving The I2C Library</h3>

<p>We have had all 4 <a href="http://uk.farnell.com/microchip/mcp23017-e-sp/ic-io-expander-16bit-i2c-28dip/dp/1332088">MCP23017</a> chips working using the Arduino but to make the code more efficient we have used bit shifting to iterate through all 4 chips to check which pin out of 64 is active. Before this we had four separate .h files and .cpp files which is not good coding practice as we were duplicating many lines of code. The next step is to try and run this code onto the teensy board.</p>
</div>


    <footer>
      <p class="meta">
	
  

<span class="byline author vcard">Posted by <span class="fn">Anton && Pedro</span></span>

	








  


<time datetime="2014-03-19T10:43:37+00:00" pubdate data-updated="true">Mar 19<span>th</span>, 2014</time>
      </p>
      
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://typebar.github.io/blog/2014/03/19/Mapping-The-Keys/" data-via="" data-counturl="http://typebar.github.io/blog/2014/03/19/Mapping-The-Keys/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
      <p class="meta">
	
        <a class="basic-alignment left" href="/blog/2014/03/16/Port-Expander-Trials/" title="Previous Post: Port Expander Trials">&laquo; Port Expander Trials</a>
	
	
        <a class="basic-alignment right" href="/blog/2014/03/20/Building-In-Earnest/" title="Next Post: Building in Earnest">Building in Earnest &raquo;</a>
	
      </p>
    </footer>
  </article>
  
  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>
  
</div>

<aside class="sidebar">
  <p style="border: thick inset; padding: 0.25em 0.5em; line-height: 1.25em;"><font style="font-size: 16px; font-weight: 700;">Reading time:</font><br />
  about 1  minute</p>
  
  <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/03/20/Building-In-Earnest/">Building in Earnest</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/19/Mapping-The-Keys/">Mapping the Keys</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/16/Port-Expander-Trials/">Port Expander Trials</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/01/Shift-Register-Trials/">Shift Register Trials</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/18/Farnell-Order/">Farnell Order</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Pedro && Anton -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'typebar';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://typebar.github.io/blog/2014/03/19/Mapping-The-Keys/';
        var disqus_url = 'http://typebar.github.io/blog/2014/03/19/Mapping-The-Keys/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/javascripts/aharris.js"></script>

</body>
</html>
